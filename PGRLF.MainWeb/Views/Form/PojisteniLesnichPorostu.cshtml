@using PGRLF.MainWeb.Forms.Enums
@model PGRLF.MainWeb.Forms.FormClasses.PojisteniLesnichPorostu

@{
    ViewBag.Title = "Pojištění lesních porostů";
    Layout = "~/Views/Shared/_LayoutForm.cshtml";
}

<div class="text-center">
    <h1>Program "Pojištění lesních porostů"</h1>
</div>
<p>(* - Údaje označené hvězdičkou je nutné vyplnit.)</p>

<fieldset class="fieldset">
    <legend>Právní forma</legend>
    <div class="row">
        <div class="large-10 columns">
            <label for="rbFyzickaOsoba" class="middle">Fyzická osoba</label>
        </div>
        <div class="large-2 columns">
            <div class="switch large">
                @Html.RadioButtonFor(m => m.PravniForma, PravniForma.FyzickaOsoba, new { @class = "switch-input", @id = "rbFyzickaOsoba" })
                <label class="switch-paddle" for="rbFyzickaOsoba">
                    <span class="switch-active" aria-hidden="true">Ano</span>
                    <span class="switch-inactive" aria-hidden="true">Ne</span>
                </label>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="large-10 columns">
            <label for="rbPravnickaOsoba" class="middle">Právnická osoba</label>
        </div>
        <div class="large-2 columns">
            <div class="switch large">
                @Html.RadioButtonFor(m => m.PravniForma, PravniForma.PravnickaOsoba, new { @class = "switch-input", @id = "rbPravnickaOsoba" })
                <label class="switch-paddle" for="rbPravnickaOsoba">
                    <span class="switch-active" aria-hidden="true">Ano</span>
                    <span class="switch-inactive" aria-hidden="true">Ne</span>
                </label>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="large-10 columns">
            <label for="rbSvazekObci" class="middle">Obec / svazek obcí</label>
        </div>
        <div class="large-2 columns">
            <div class="switch large">
                @Html.RadioButtonFor(m => m.PravniForma, PravniForma.SvazekObci, new { @class = "switch-input", @id = "rbSvazekObci" })
                <label class="switch-paddle" for="rbSvazekObci">
                    <span class="switch-active" aria-hidden="true">Ano</span>
                    <span class="switch-inactive" aria-hidden="true">Ne</span>
                </label>
            </div>
        </div>
    </div>
</fieldset>

<div id="divFyzickaOsoba">
    @Html.EditorFor(m => m.FyzickaOsoba)
</div>
<div id="divPravnickaOsoba" style="display:none">
    @Html.EditorFor(m => m.PravnickaOsoba)
</div>
<div id="divSvazekObci" style="display:none">
    @Html.EditorFor(m => m.SvazekObci)
</div>



<fieldset>
    <legend>Společná část</legend>
    @Html.EditorFor(m => m.Kontakt)
    @Html.EditorFor(m => m.BankovniSpojeni)
    <div id="divObchodniRejstrik">
        @Html.EditorFor(m => m.ObchodniRejstrik)
    </div>
    <div id="divPlanovaneUkonceni">
        @Html.EditorFor(m => m.PlanovaneUkonceni)
    </div>
</fieldset>



<fieldset>
    <legend>Čestné prohlášení</legend>
    <div class="row">
        <div class="large-12 columns">
            @Html.Raw(@PGRLF.MainWeb.Forms.FormResources.CestneProhlaseni)
        </div>
    </div>
    <div class="row">
        <div class="large-10 columns">
            <label for="swCP1" class="left inline">Souhlasím</label>
        </div>
        <div class="large-2 columns">
            <div class="switch" id="swCP1">
                @Html.RadioButtonFor(m => m.CestneProhlaseni, false, new {@id = "rbCestneProhlaseniOff"})
                <label>Ne</label>
                @Html.RadioButtonFor(m => m.CestneProhlaseni, true, new {@id = "rbCestneProhlaseniOn" })
                <label>Ano</label>
                <span></span>
            </div>
        </div>
    </div>
</fieldset>

<fieldset>
    <legend>Souhlas se zpracováním údajů</legend>
    <div class="row">
        <div class="large-12 columns">
            <fieldset>
                @Html.Raw(@PGRLF.MainWeb.Forms.FormResources.SouhlasSeZpracovanim)
            </fieldset>
        </div>
    </div>
    <div class="row">
        <div class="large-10 columns">
            <label for="swSouhlasSeZpracovanim" class="left inline">Souhlasím</label>
        </div>
        <div class="large-2 columns">
            <div class="switch" id="swSouhlasSeZpracovanim">
                @Html.RadioButtonFor(m => m.SouhlasSeZpracovanim, false, new {@id = "rbSouhlasSeZpracovanimOff"})
                <label>Ne</label>
                @Html.RadioButtonFor(m => m.SouhlasSeZpracovanim, true, new {@id = "rbSouhlasSeZpracovanimOn"})
                <label>Ano</label>
                <span></span>
            </div>
        </div>
    </div>
</fieldset>



@section Scripts
{
    <script>

        function hideElement(element) {
            $(element).hide(100);
        }

        function showElement(element) {
            $(element).show(100);
        }

        $(document).ready(function () {

            $(".switch").click(function () {
                var input = $(this).children("input[id]");
                switch ($(input).prop("type")) {
                    case "radio":
                        $(input).prop("checked", true).change();
                        break;
                    case "checkbox":
                        $(input).prop("checked") ? input.prop("checked", false).change() : input.prop("checked", true).change();
                        break;
                }               
            });

            $("input[id='rbFyzickaOsoba']").change(function () {
                hideElement('#divPravnickaOsoba');
                hideElement('#divSvazekObci');
                showElement('#divFyzickaOsoba');
                showElement('#divObchodniRejstrik');
                showElement('#divPlanovaneukonceni');
            });

            $("input[id='rbPravnickaOsoba']").change(function () {
                hideElement('#divFyzickaOsoba');
                hideElement('#divSvazekObci');
                showElement('#divPravnickaOsoba');
                showElement('#divObchodniRejstrik');
                showElement('#divPlanovaneukonceni');
            });

            $("input[id='rbSvazekObci']").change(function () {
                hideElement('#divFyzickaOsoba');
                hideElement('#divPravnickaOsoba');
                hideElement('#divObchodniRejstrik');
                hideElement('#divPlanovaneukonceni');
                showElement('#divSvazekObci');
            });

            $("input[id='cbFOJeMistoPodnikaniStejne']").change(function () {
                $('#divFOMistoPodnikani').toggle();
            });

            $("input[id='cbPOJeMistoPodnikaniStejne']").change(function () {
                $('#divPOMistoPodnikani').toggle();
            });

            $("input[id='cbProdejPodniku']").change(function () {
                $('#divProdejPodnikuDatum').toggle();
            });

            $("input[id='cbUkonceniCinnosti']").change(function () {
                $('#divUkoceniCinnostiDatum').toggle();
            });

        });

    </script>
}